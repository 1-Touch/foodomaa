(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{143:function(e,t,a){"use strict";var r=a(3),n=a(4),l=a(6),o=a(5),c=a(7),s=a(0),i=a.n(s),m=a(15),u=a.n(m),d=a(144),g=a.n(d),p=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"}},i.a.createElement("div",{className:"block m-0"},i.a.createElement("div",{className:"block-content p-0"},i.a.createElement("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box")},!this.props.disable_back_button&&i.a.createElement("div",{className:"input-group-prepend"},this.props.back_to_home&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){return e.context.router.history.push("/")}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),this.props.goto_orders_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){return e.context.router.history.push("/my-orders")}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){return e.context.router.history.push("/my-account")}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"})),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:this.context.router.history.goBack},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(u.a,{duration:"500"}))),i.a.createElement("p",{className:"form-control search-input"},this.props.logo&&i.a.createElement("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?i.a.createElement("span",{className:"nav-page-title"},this.props.title):null,this.props.has_delivery_icon&&i.a.createElement(g.a,{left:!0},i.a.createElement("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"}))),this.props.has_restaurant_info?i.a.createElement("div",{className:"fixed-restaurant-info hidden",ref:function(t){e.heading=t}},i.a.createElement("span",{className:"font-w700 fixedRestaurantName"},this.props.restaurant.name),i.a.createElement("br",null),i.a.createElement("span",{className:"font-w400 fixedRestaurantTime"},i.a.createElement("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText"))):null,i.a.createElement("div",{className:"input-group-append"},!this.props.disable_search&&i.a.createElement("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"}},i.a.createElement("i",{className:"si si-magnifier"}),i.a.createElement(u.a,{duration:"500"}))))))))}}]),t}(s.Component);p.contextTypes={router:function(){return null}},t.a=p},146:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e){if(e){var t=parseFloat(e);return t=t.toFixed(2)}return 0}},241:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(4),l=a(6),o=a(5),c=a(7),s=a(0),i=a.n(s),m=a(61),u=a(11),d=a(10),g=a.n(d),p=a(143),h=a(29),y=a(30),b=a(15),f=a.n(b),E=a(150),x=a.n(E),v=a(146),S=a(160),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.order,a=e.user,r=e.cancelOrder;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn btn-square btn-sm btn-outline-danger mb-0 mt-15",style:{position:"relative",fontSize:"0.8rem"},onClick:this.handlePopupOpen},localStorage.getItem("cancelOrderMainButton"),i.a.createElement(f.a,{duration:"500"})),i.a.createElement(S.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},i.a.createElement("div",{className:"text-center mt-100"},i.a.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"500"}},i.a.createElement("i",{className:"si si-info",style:{fontSize:"4rem",opacity:"0.3",color:"#FF9800"}}),i.a.createElement("p",null,t.unique_order_id),i.a.createElement("p",null,localStorage.getItem("orderCancellationConfirmationText")),1===t.orderstatus_id?i.a.createElement(i.a.Fragment,null,"COD"!==t.payment_mode&&i.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),t.total," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText")),"COD"===t.payment_mode&&t.total-t.payable!==0&&i.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(v.a)(t.total-t.payable)," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText"))):i.a.createElement("p",{className:"text-muted font-w400"},localStorage.getItem("willNotBeRefundedText"))),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-lg btn-danger mr-3",onClick:function(){return r(a.data.auth_token,a.data.id,t.id)},style:{border:"0",borderRadius:"0",backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("yesCancelOrderBtn")),i.a.createElement("button",{onClick:this.handlePopupClose,className:"btn btn-lg",style:{border:"0",borderRadius:"0"}},localStorage.getItem("cancelGoBackBtn"))))))}}]),t}(s.Component),_=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).__getOrderStatus=function(e){return 1===e?localStorage.getItem("orderPlacedStatusText"):2===e?localStorage.getItem("preparingOrderStatusText"):3===e?localStorage.getItem("deliveryGuyAssignedStatusText"):4===e?localStorage.getItem("orderPickedUpStatusText"):5===e?localStorage.getItem("deliveredStatusText"):6===e?localStorage.getItem("canceledStatusText"):7===e?localStorage.getItem("readyForPickupStatusText"):void 0},a._getTotalItemCost=function(e){var t=parseFloat(e.price)*e.quantity;return e.order_item_addons.length&&e.order_item_addons.map(function(a){return t+=parseFloat(a.addon_price)*e.quantity}),Object(v.a)(t)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.add("bg-grey")}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey")}},{key:"render",value:function(){var e=this,t=this.props,a=t.order,r=t.user,n=t.cancelOrder;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb-20 bg-white p-3",style:{borderRadius:"0.275rem"}},i.a.createElement("div",{className:"pull-right"},(1===a.orderstatus_id||2===a.orderstatus_id||3===a.orderstatus_id||4===a.orderstatus_id||7===a.orderstatus_id)&&i.a.createElement(y.a,{to:"/running-order/".concat(a.unique_order_id),className:"btn btn-square btn-outline-secondary mb-10 order-track-button",delay:250,style:{position:"relative"}},localStorage.getItem("trackOrderText"),i.a.createElement("span",{className:"pulse ml-2"}),i.a.createElement(f.a,{duration:"500"}))),i.a.createElement("div",{className:"display-flex"},i.a.createElement("div",{className:"flex-auto"},i.a.createElement("button",{className:"mr-5 btn btn-square btn-outline-secondary min-width-125 mb-10 order-status-button text-muted ".concat(6===a.orderstatus_id&&"text-danger"," ")},this.__getOrderStatus(a.orderstatus_id)))),i.a.createElement("span",{className:"text-muted pull-right",style:{fontSize:"0.9rem"}},"true"===localStorage.getItem("showFromNowDate")?i.a.createElement(x.a,{fromNow:!0},a.created_at):i.a.createElement(x.a,{format:"DD/MM/YYYY hh:mma"},a.created_at)),i.a.createElement("div",{className:"flex-auto"},i.a.createElement("h6",{className:"font-w700",style:{color:localStorage.getItem("storeColor")}},a.unique_order_id)),i.a.createElement("hr",null),a.orderitems.map(function(t){return i.a.createElement("div",{className:"display-flex pb-5",key:t.id},i.a.createElement("span",{className:"order-item-quantity mr-10"},"x",t.quantity),i.a.createElement("div",{className:"flex-auto text-left"},t.name),i.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e._getTotalItemCost(t),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))}),i.a.createElement(i.a.Fragment,null,a.coupon_name&&i.a.createElement("div",{className:"display-flex mt-10 font-w700"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex-auto"},"Coupon: "),i.a.createElement("div",{className:"flex-auto text-right"},a.coupon_name))),a.tax&&i.a.createElement("div",{className:"display-flex mt-10 font-w700"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex-auto"},localStorage.getItem("taxText"),": "),i.a.createElement("div",{className:"flex-auto text-right text-danger"},i.a.createElement("span",null,"+"),a.tax,"%"))),i.a.createElement("div",{className:"display-flex mt-10 font-w700"},i.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderTextTotal")),i.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.total,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),1===a.orderstatus_id&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pull-right"},i.a.createElement(N,{order:a,user:r,cancelOrder:n})),i.a.createElement("div",{className:"clearfix"}))))}}]),t}(s.Component),w=a(253),I=a(14),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={no_orders:!1,cancelSuccess:!1},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e.success&&this.props.getOrders(e.data.auth_token,e.data.id)}},{key:"componentWillReceiveProps",value:function(e){if(0===e.orders.length&&this.setState({no_orders:!0}),this.props.cancel!==e.cancel&&e.cancel.success){this.setState({cancelSuccess:!0});var t=this.props.user;t.success&&this.props.getOrders(t.data.auth_token,t.data.id)}}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return i.a.createElement(w.a,{to:"/"});var t=this.props,a=t.user,r=t.orders;return null===localStorage.getItem("storeColor")?i.a.createElement(w.a,{to:"/"}):a.success?i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("accountMyOrders"),disable_search:!0,goto_accounts_page:!0}),this.state.cancelSuccess&&i.a.createElement("div",{className:"auth-error cancel-success"},i.a.createElement("div",{className:""},localStorage.getItem("orderCancelledText"))),i.a.createElement("div",{className:"block-content block-content-full pt-80 pb-80 height-100-percent px-15"},0===r.length&&!this.state.no_orders&&i.a.createElement(h.a,{height:600,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:"60",rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:"90",rx:"0",ry:"0",width:"100",height:"18"}),i.a.createElement("rect",{x:"0",y:170,rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:200,rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:230,rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:260,rx:"0",ry:"0",width:"100",height:"18"}),i.a.createElement("rect",{x:"0",y:340,rx:"0",ry:"0",width:"75",height:"22"}),i.a.createElement("rect",{x:"0",y:370,rx:"0",ry:"0",width:"350",height:"18"}),i.a.createElement("rect",{x:"0",y:400,rx:"0",ry:"0",width:"300",height:"18"}),i.a.createElement("rect",{x:"0",y:430,rx:"0",ry:"0",width:"100",height:"18"})),0===r.length&&i.a.createElement("div",{className:"text-center mt-50 font-w600 text-muted"},localStorage.getItem("noOrdersText")),r.map(function(t){return i.a.createElement(_,{key:t.id,order:t,user:a,cancelOrder:e.props.cancelOrder,cancel:e.props.cancel})}))):i.a.createElement(w.a,{to:"/login"})}}]),t}(s.Component);t.default=Object(I.b)(function(e){return{user:e.user.user,orders:e.orders.orders,cancel:e.orders.cancel}},{getOrders:function(e,t){return function(a){g.a.post(u.q,{token:e,user_id:t}).then(function(e){var t=e.data;return a({type:m.b,payload:t})}).catch(function(e){console.log(e)})}},cancelOrder:function(e,t,a){return function(r){g.a.post(u.r,{token:e,user_id:t,order_id:a}).then(function(e){var t=e.data;return r({type:m.a,payload:t})}).catch(function(e){console.log(e)})}}})(O)}}]);