(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{153:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u});var a=n(33),o=n(11),s=n(10),r=n.n(s),l=function(e,t,n){return function(s){r.a.post(o.i,{user_id:e,token:t,restaurant_id:n}).then(function(e){var t=e.data;return s({type:a.b,payload:t})}).catch(function(e){console.log(e)})}},i=function(e,t,n,s,l,i,c,u){return function(d){r.a.post(o.T,{token:t,user_id:e,latitude:n,longitude:s,address:l,house:i,tag:c,get_only_default_address:u}).then(function(e){var t=e.data;return d({type:a.c,payload:t})}).catch(function(e){console.log(e)})}},c=function(e,t,n){return function(s){r.a.post(o.g,{token:n,user_id:e,address_id:t}).then(function(e){var t=e.data;return s({type:a.a,payload:t})}).catch(function(e){console.log(e)})}},u=function(e,t,n){return function(s){return r.a.post(o.Y,{token:n,user_id:e,address_id:t}).then(function(e){var t=e.data;return s({type:a.d,payload:t})}).catch(function(e){console.log(e)})}}},161:function(e,t,n){"use strict";var a=n(3),o=n(4),s=n(6),r=n(5),l=n(7),i=n(0),c=n.n(i),u=n(15),d=n.n(u),g=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.address;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:!a.is_operational&&this.props.fromCartPage?"address-not-usable":" "},n.data.default_address_id===a.id?c.a.createElement("button",{className:"btn btn-lg pull-right btn-address-default selected"},c.a.createElement("i",{className:"si si-check",style:{color:localStorage.getItem("storeColor")}}),c.a.createElement(d.a,{duration:200})):c.a.createElement(c.a.Fragment,null,this.props.fromCartPage?c.a.createElement(c.a.Fragment,null,a.is_operational?c.a.createElement("button",{className:"btn btn-lg pull-right btn-address-default",onClick:function(){return e.props.handleSetDefaultAddress(a.id,a)}},c.a.createElement("i",{className:"si si-check"}),c.a.createElement(d.a,{duration:200})):c.a.createElement("span",{className:"text-danger text-uppercase font-w600 text-sm08"}," ",c.a.createElement("i",{className:"si si-close"})," ",localStorage.getItem("addressDoesnotDeliverToText"))):c.a.createElement("button",{className:"btn btn-lg pull-right btn-address-default",onClick:function(){return e.props.handleSetDefaultAddress(a.id,a)}},c.a.createElement("i",{className:"si si-check"}),c.a.createElement(d.a,{duration:200}))),null!==a.tag&&c.a.createElement("h6",{className:"m-0 text-uppercase"},a.tag),c.a.createElement("div",{className:"mb-10",style:{minHeight:"50px"}},null!==a.house&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"m-0 text-capitalize"},a.house)),c.a.createElement("p",{className:"m-0 text-capitalize text-sm08"},a.address)),!this.props.fromCartPage&&this.props.deleteButton&&c.a.createElement(c.a.Fragment,null,n.data.default_address_id!==a.id&&c.a.createElement("span",{className:"btn-edit-address",style:{color:localStorage.getItem("storeColor")},onClick:function(){return e.props.handleDeleteAddress(a.id)}},localStorage.getItem("deleteAddressText"))),c.a.createElement("hr",null)))}}]),t}(i.Component);t.a=g},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLatLng=t.geocodeByPlaceId=t.geocodeByAddress=void 0;var a,o=n(180),s=(a=o)&&a.__esModule?a:{default:a},r=n(186);t.geocodeByAddress=r.geocodeByAddress,t.geocodeByPlaceId=r.geocodeByPlaceId,t.getLatLng=r.getLatLng,t.default=s.default},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),r=d(s),l=d(n(1)),i=d(n(181)),c=d(n(182)),u=n(183);function d(e){return e&&e.__esModule?e:{default:e}}n(184);var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchSuggestions=(0,c.default)(function(e){var t=n.props.autocompletionRequest;n.setState({loading:!0}),n.placesService.getPlacePredictions(a({},(0,i.default)(t),{input:e}),n.fetchSuggestionsCallback)},n.props.debounce),n.state={activeSuggestion:null,loading:!1,placesServiceStatus:null,suggestions:[],value:e.initialValue},n.changeActiveSuggestion=n.changeActiveSuggestion.bind(n),n.changeValue=n.changeValue.bind(n),n.clearSuggestions=n.clearSuggestions.bind(n),n.fetchSuggestionsCallback=n.fetchSuggestionsCallback.bind(n),n.handleClick=n.handleClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.initalizeService=n.initializeService.bind(n),n.onSuggestionSelect=n.onSuggestionSelect.bind(n),n.renderInput=n.renderInput.bind(n),n.renderSuggestions=n.renderSuggestions.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"componentDidMount",value:function(){this.initalizeService(),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"componentWillReceiveProps",value:function(e){e.initialValue&&this.setState({value:e.initialValue})}},{key:"handleClick",value:function(e){e.target.id.includes("google-places-autocomplete")||this.clearSuggestions()}},{key:"changeValue",value:function(e){this.setState({value:e}),e.length>0?this.fetchSuggestions(e):this.setState({suggestions:[]})}},{key:"initializeService",value:function(){var e=this;return window.google?window.google.maps?window.google.maps.places?(this.placesService=new window.google.maps.places.AutocompleteService,void this.setState({placesServiceStatus:window.google.maps.places.PlacesServiceStatus.OK})):(console.error("[react-google-places-autocomplete]: Google maps places script not loaded"),void setTimeout(function(){e.initializeService()},1e3)):(console.error("[react-google-places-autocomplete]: Google maps script not loaded"),void setTimeout(function(){e.initalizeService()},1e3)):(console.error("[react-google-places-autocomplete]: Google script not loaded"),void setTimeout(function(){e.initalizeService()},1e3))}},{key:"renderInput",value:function(){var e=this,t=this.state.value,n=this.props,a=n.inputClassName,o=n.inputStyle,s=n.placeholder,l=n.renderInput,i=n.required,c=n.disabled;return l?l({autoComplete:"off",id:"google-places-autocomplete-input",value:t,onChange:function(t){var n=t.target;return e.changeValue(n.value)},onKeyDown:this.handleKeyDown,type:"text",placeholder:s,required:i,disabled:c}):r.default.createElement("input",{autoComplete:"off",className:a||"google-places-autocomplete__input",id:"google-places-autocomplete-input",onChange:function(t){var n=t.target;return e.changeValue(n.value)},onKeyDown:this.handleKeyDown,placeholder:s,style:o,type:"text",value:t,required:i,disabled:c})}},{key:"renderSuggestions",value:function(){var e=this,t=this.state,n=t.activeSuggestion,a=t.suggestions,o=this.props,s=o.renderSuggestions,l=o.suggestionsClassNames,i=o.suggestionsStyles;return 0===a.length?null:s?s(n,a,this.onSuggestionSelect):r.default.createElement("div",{id:"google-places-suggestions-container",className:l.container||"google-places-autocomplete__suggestions-container",style:i.container},a.map(function(t,a){return r.default.createElement("div",{id:"google-places-autocomplete-suggestion--"+a,key:t.id,className:(l.suggestion||"google-places-autocomplete__suggestion")+" "+(n===a?l.suggestionActive||"google-places-autocomplete__suggestion--active":""),style:i.suggestion,onClick:function(n){return e.onSuggestionSelect(t,n)},role:"presentation"},t.description)}))}},{key:"renderLoader",value:function(){var e=this.props.loader;return e||r.default.createElement("div",{className:"google-places-autocomplete__suggestions-container"},r.default.createElement("div",{className:"google-places-autcomplete__suggestions"},"Loading..."))}},{key:"onSuggestionSelect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&t.stopPropagation();var n=this.props.onSelect;this.setState({activeSuggestion:null,suggestions:[],value:e.description}),n(e)}},{key:"fetchSuggestionsCallback",value:function(e,t){this.state.placesServiceStatus;this.setState({loading:!1,suggestions:e||[]})}},{key:"handleKeyDown",value:function(e){var t=this.state,n=t.activeSuggestion,a=t.suggestions;switch(e.key){case"Enter":e.preventDefault(),null!==n&&this.onSuggestionSelect(a[n]);break;case"ArrowDown":this.changeActiveSuggestion(1);break;case"ArrowUp":this.changeActiveSuggestion(-1);break;case"Escape":this.clearSuggestions()}}},{key:"clearSuggestions",value:function(){this.setState({activeSuggestion:null,suggestions:[]})}},{key:"changeActiveSuggestion",value:function(e){if(0!==this.state.suggestions.length)switch(e){case 1:this.setState(function(e){var t=e.activeSuggestion,n=e.suggestions;return null===t||t===n.length-1?{activeSuggestion:0}:{activeSuggestion:t+1}});break;case-1:this.setState(function(e){var t=e.activeSuggestion,n=e.suggestions;return t?{activeSuggestion:t-1}:{activeSuggestion:n.length-1}})}}},{key:"render",value:function(){var e=this.state.loading;return r.default.createElement("div",{className:"google-places-autocomplete"},this.renderInput(),e?this.renderLoader():this.renderSuggestions())}}]),t}();g.propTypes={autocompletionRequest:u.autocompletionRequestType,debounce:l.default.number,initialValue:l.default.string,inputClassName:l.default.string,inputStyle:l.default.object,loader:l.default.node,onSelect:l.default.func,placeholder:l.default.string,renderInput:l.default.func,renderSuggestions:l.default.func,suggestionsClassNames:u.suggestionClassNamesType,suggestionsStyles:u.suggestionStylesType,required:l.default.bool,disabled:l.default.bool},g.defaultProps={autocompletionRequest:{},debounce:300,initialValue:"",inputClassName:"",inputStyle:{},loader:null,onSelect:function(){},placeholder:"Address",renderInput:void 0,renderSuggestions:void 0,suggestionsClassNames:{container:"",suggestion:"",suggestionActive:""},suggestionsStyles:{container:{},suggestion:{}},required:!1,disabled:!1},t.default=g},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=a({},e);return e.bounds&&(t.bounds=new(Function.prototype.bind.apply(google.maps.LatLngBounds,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.bounds))))),e.location&&(t.location=new google.maps.LatLng(e.location)),t}},182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=void 0,a=void 0;return function(){var o=this,s=arguments;return clearTimeout(n),!(n=setTimeout(function(){n=null,a=e.apply(o,s)},t))&&(a=e.apply(o,s)),a}}},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suggestionStylesType=t.suggestionClassNamesType=t.autocompletionRequestType=void 0;var a,o=n(1),s=(a=o)&&a.__esModule?a:{default:a};var r=s.default.shape({country:s.default.oneOfType([s.default.string,s.default.arrayOf(s.default.string)])}),l=s.default.shape({lat:s.default.number,lng:s.default.number});t.autocompletionRequestType=s.default.shape({bounds:function(e,t,n){var a=e[t];return a?Array.isArray(a)&&2===a.length&&a.every(function(e){return 2===Object.keys(e).length&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")&&Number(e.lat)&&Number(e.lng)})?null:new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed."):null},componentRestrictions:r,location:l,offset:s.default.number,radius:s.default.number,types:s.default.arrayOf(s.default.string)}),t.suggestionClassNamesType=s.default.shape({container:s.default.string,suggestion:s.default.string,suggestionActive:s.default.string}),t.suggestionStylesType=s.default.shape({container:s.default.object,suggestion:s.default.object})},184:function(e,t,n){},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.geocodeByAddress=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(a,o){t.geocode({address:e},function(e,t){return t!==n?o(t):a(e)})})},t.getLatLng=function(e){return new Promise(function(t,n){try{return t({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})}catch(a){return n(a)}})},t.geocodeByPlaceId=function(e){var t=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(a,o){t.geocode({placeId:e},function(e,t){return t!==n?o(t):a(e)})})}},242:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(4),s=n(6),r=n(5),l=n(7),i=n(0),c=n.n(i),u=n(54),d=n.n(u),g=n(173),p=n.n(g),m=n(25),f=n(29),h=n(15),v=n.n(h),y=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.locations,a=e.handleGeoLocationClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-15 mt-15"},t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("searchPopularPlaces")),c.a.createElement(f.a,{height:160,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"15",ry:"15",width:"125",height:"30"}),c.a.createElement("rect",{x:"135",y:"0",rx:"15",ry:"15",width:"100",height:"30"}),c.a.createElement("rect",{x:"245",y:"0",rx:"15",ry:"15",width:"110",height:"30"}),c.a.createElement("rect",{x:"0",y:"40",rx:"15",ry:"15",width:"85",height:"30"}),c.a.createElement("rect",{x:"95",y:"40",rx:"15",ry:"15",width:"125",height:"30"}))),!t&&c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("searchPopularPlaces")),n.map(function(e,t){return c.a.createElement(d.a,{top:!0,delay:50*t,key:e.id},c.a.createElement("button",{type:"button",className:"btn btn-rounded btn-alt-secondary btn-md mb-15 mr-15",style:{position:"relative"},onClick:function(){var t=[{formatted_address:e.name,geometry:{location:{lat:e.latitude,lng:e.longitude}}}];a(t)}},c.a.createElement(v.a,{duration:"500"}),e.name))})))}}]),t}(i.Component),b=n(253),S=n(14),_=n(84),w=n(11),E=n(10),k=n.n(E),N=n(153),C=n(161),O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(l)))).state={google_script_loaded:!1,loading_popular_location:!0,gps_loading:!1},n.handleGeoLocationClick=function(e){new Promise(function(t){localStorage.setItem("geoLocation",JSON.stringify(e[0])),t("GeoLocation Saved")}).then(function(){n.setState({gps_loading:!1}),n.context.router.history.push("/my-location")})},n.getMyLocation=function(){var e=navigator&&navigator.geolocation;console.log("LOCATION",e),n.setState({gps_loading:!0}),e&&e.getCurrentPosition(function(e){n.reverseLookup(e.coords.latitude,e.coords.longitude)},function(e){n.setState({gps_loading:!1}),console.log(e),alert(localStorage.getItem("gpsAccessNotGrantedMsg"))})},n.reverseLookup=function(e,t){k.a.post(w.j,{lat:e,lng:t}).then(function(a){console.log(a);var o=[{formatted_address:a.data,geometry:{location:{lat:e,lng:t}}}];n.handleGeoLocationClick(o)}).catch(function(e){console.warn(e.response.data)})},n.handleSetDefaultAddress=function(e,t){var a=n.props.user;a.success&&n.props.setDefaultAddress(a.data.id,e,a.data.auth_token).then(function(){new Promise(function(e){var n={lat:t.latitude,lng:t.longitude,address:t.address,house:t.house,tag:t.tag};localStorage.setItem("userSetAddress",JSON.stringify(n)),e("Address Saved")}).then(function(){n.context.router.history.push("/")})})},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.getPopularLocations(),this.searchInput&&this.searchInput.focus(),!document.getElementById("googleMaps")){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key="+localStorage.getItem("googleApiKey")+"&libraries=places",t.id="googleMaps",document.body.appendChild(t),t.onload=function(){e.setState({google_script_loaded:!0})}}}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("googleMaps");e&&e.parentNode.removeChild(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.popular_locations!==e.popular_locations&&this.setState({loading_popular_location:!1})}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return c.a.createElement(b.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return c.a.createElement(b.a,{to:"/"});var t=this.props,n=t.user,a=t.popular_locations,o=t.addresses;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{seotitle:localStorage.getItem("seoMetaTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),this.state.gps_loading&&c.a.createElement("div",{className:"height-100 overlay-loading ongoing-payment-spin"},c.a.createElement("div",{className:"spin-load"})),c.a.createElement("div",{className:"col-12 p-0 pt-0"},this.state.google_script_loaded&&c.a.createElement(p.a,{debounce:1e3,loader:c.a.createElement("img",{src:"/assets/img/various/spinner.svg",className:"location-loading-spinner",alt:"loading"}),renderInput:function(t){return c.a.createElement("div",{className:"input-location-icon-field"},c.a.createElement("i",{className:"si si-magnifier"}),c.a.createElement("input",Object.assign({},t,{className:"form-control search-input search-box",placeholder:localStorage.getItem("searchAreaPlaceholder"),ref:function(t){e.searchInput=t}})))},renderSuggestions:function(t,n,a){return c.a.createElement("div",{className:"location-suggestions-container"},n.map(function(t,n){return c.a.createElement(d.a,{top:!0,delay:50*n,key:t.id},c.a.createElement("div",{className:"location-suggestion",onClick:function(n){a(t,n),Object(g.geocodeByPlaceId)(t.place_id).then(function(t){return e.handleGeoLocationClick(t)}).catch(function(e){return console.error(e)})}},c.a.createElement("span",{className:"location-main-name"},t.structured_formatting.main_text),c.a.createElement("br",null),c.a.createElement("span",{className:"location-secondary-name"},t.structured_formatting.secondary_text)))}),c.a.createElement("img",{src:"/assets/img/various/powered_by_google_on_white.png",alt:"powered by Google",className:"pl-15"}))}}),c.a.createElement("button",{className:"btn btn-rounded btn-gps btn-md ml-15 mt-4 pl-0 py-15",style:{color:localStorage.getItem("storeColor")},onClick:this.getMyLocation},c.a.createElement("i",{className:"si si-pointer"})," ",localStorage.getItem("useCurrentLocationText"))),c.a.createElement(y,{loading:this.state.loading_popular_location,handleGeoLocationClick:this.handleGeoLocationClick,locations:a}),n.success&&o.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-15 mt-10 location-saved-address"},c.a.createElement("h1",{className:"text-muted h4"},localStorage.getItem("locationSavedAddresses")),o.map(function(t){return c.a.createElement(C.a,{handleDeleteAddress:e.handleDeleteAddress,deleteButton:!1,key:t.id,address:t,user:n,fromCartPage:!1,handleSetDefaultAddress:e.handleSetDefaultAddress})}))))}}]),t}(i.Component);O.contextTypes={router:function(){return null}};t.default=Object(S.b)(function(e){return{user:e.user.user,popular_locations:e.popular_locations.popular_locations,addresses:e.addresses.addresses}},{getPopularLocations:function(){return function(e){k.a.post(w.u).then(function(t){var n=t.data;return e({type:_.a,payload:n})}).catch(function(e){console.log(e)})}},getAddresses:N.b,setDefaultAddress:N.d})(O)}}]);